<!DOCTYPE html>
<html>
<head>
  <title>eBot v1.5.4</title>
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <h1>EBOT COMMAND STATION</h1>
    <h4>Version 1.5.4</h4>
    <hr>
      Socket Status: <span id="status"></span>
    <hr>

	<div class="well">
		Server Message: <span id="message"></span>
	</div>
	<div class="well">
		<div class="btn-group btn-group-justified" role="group" aria-label="...">
		  <div class="btn-group" role="group">
		    <button type="button" class="btn btn-default direction">Left</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button type="button" class="btn btn-default direction">Foward</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button type="button" class="btn btn-default direction">Backward</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button type="button" class="btn btn-default direction">Right</button>
		  </div>
		</div>
	</div>

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
		integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" 
			crossorigin="anonymous"></script>
	<script>
	    	var host = window.location.host;
	    	var ws = new WebSocket('ws://'+host+'/ws');
	    	var $status = $('#status');
	    	var $message = $('#message');
	
	    	ws.onopen = function(){
			$status.attr("class", 'label label-success');
			$status.text('open');
	    	};
	    
	    	ws.onmessage = function(ev){
			$message.attr("class", 'label label-info');
			$message.hide();
		
			var data = JSON.parse(ev.data);
			$message.text(data.value);
			$message.fadeIn("fast");
	    	};
	    
	    	ws.onclose = function(ev){
			$status.attr("class", 'label label-important');
			$status.text('closed');
	    	};
	
		ws.onerror = function(ev){
			$status.attr("class", 'label label-warning');
			$status.text('error occurred');
	    	};
	
		send = function(message, direction) {
			ws.send($("#message").val());
		};
	
		$(".direction").mousedown(function(event) {
			alert("mouse down");
		});
	
	</script>
</body>
</html>
